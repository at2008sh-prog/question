<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø±Ø³Ø§Ù„Ø© Ø­Ø¨ Ù…ÙØ§Ø¬Ø£Ø© ğŸ’Œ</title>
<style>
:root{
  --bg1:#ffd6e7;
  --bg2:#ffeecf;
  --green:#4CAF50;
  --red:#ff4d4d;
  --text:#222;
}
html,body{height:100%; margin:0; padding:0; overflow:hidden;}
body{
  font-family: Arial, "Noto Sans Arabic", sans-serif;
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--text);
  padding:16px;
}
.wrapper{
  width:100%;
  max-width:820px;
  height:calc(100vh - 32px);
  background:rgba(255,255,255,0.75);
  border-radius:16px;
  padding:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.12);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  overflow:hidden;
}
#mainImage{
  width:82%;
  max-width:420px;
  border-radius:14px;
  display:block;
  margin: 12px auto;
  box-shadow:0 8px 18px rgba(0,0,0,0.12);
}
#question{
  font-size: clamp(20px, 4.5vw, 30px);
  line-height:1.45;
  margin:10px 8px 14px;
  display:flex;
  flex-direction:row;
  align-items:center;
  justify-content:center;
  gap:10px;
  direction: rtl;
  text-align: right;
  max-width:92%;
  word-break:normal;
}
.qtext{display:inline-block; text-align:right; direction:rtl; white-space:normal; word-break:break-word;}
.qemoji{display:inline-block; margin-left:10px; font-size:1.05em; flex-shrink:0;}
.actions{
  position:relative;
  width:100%;
  display:flex;
  justify-content:center;
  gap:14px;
  margin-top:12px;
}
button{
  border:none;
  border-radius:12px;
  padding:12px 26px;
  font-size: clamp(16px, 4vw, 22px);
  cursor:pointer;
  box-shadow:0 6px 12px rgba(0,0,0,0.08);
  transition: transform .12s ease, opacity .12s ease;
  user-select:none;
  -webkit-user-select:none;
}
#yes{ background:var(--green); color:#fff; }
#no{ background:var(--red); color:#fff; position:relative; }
.result{
  display:none;
  margin-top:18px;
  width:92%;
  text-align:center;
}
.result h1{
  font-size: clamp(18px, 3.5vw, 22px);
  line-height:1.6;
  margin:8px 6px;
  color:var(--text);
  direction:rtl;
  text-align:right;
  white-space:normal;
  word-break:break-word;
}
.result img{
  width:70%;
  max-width:360px;
  margin-top:12px;
  border-radius:12px;
  box-shadow:0 8px 18px rgba(0,0,0,0.12);
}
#playFallback{
  display:none;
  margin-top:12px;
  background:#0066cc;
  color:#fff;
  padding:10px 18px;
  font-size:16px;
  border-radius:10px;
}
@media (max-width:420px){
  .wrapper{ padding:14px; border-radius:12px; height:calc(100vh - 24px);}
  #mainImage{ width:95%; margin:10px auto;}
  #question{ font-size:20px; }
}
</style>
</head>
<body>
<div class="wrapper">
  <h1 id="question">
    <span class="qtext">Ù‡Ù„ ØªØ­Ø¨ Ø±Ø³Ø§Ù„Ø© Ù…ÙØ§Ø¬Ø£Ø©ØŸ</span>
    <span class="qemoji" aria-hidden="true">ğŸ’Œ</span>
  </h1>
  <img id="mainImage" src="question.jpg" alt="Ø³Ø¤Ø§Ù„">
  <div class="actions">
    <button id="yes" aria-label="Ù†Ø¹Ù…">Ù†Ø¹Ù…</button>
    <button id="no" aria-label="Ù„Ø§">Ù„Ø§</button>
  </div>
  <div class="result" id="result" aria-live="polite">
    <h1 id="resultText">
      Ù‡Ø§ Ù‚Ø¯ ÙˆØµÙ„Øª! â¤ï¸<br>
      Ø£Ø±ÙŠØ¯Ùƒ Ø£Ù† ØªØ¹Ø±Ù Ø£Ù† ÙƒÙ„ Ù„Ø­Ø¸Ø© Ø£ÙÙƒØ± ÙÙŠÙ‡Ø§ Ø¨ÙƒØŒ ÙƒÙ„ Ø§Ø¨ØªØ³Ø§Ù…Ø© Ø£Ø±Ø³Ù„Ù‡Ø§ Ù„ÙƒØŒ ÙˆÙƒÙ„ Ø¯ÙØ¡ Ù‚Ù„Ø¨ÙŠØŒ Ù‡ÙŠ ÙƒÙ„Ù‡Ø§ Ù„Ùƒ ğŸŒ¹<br>
      Ø£Ù†Øª Ø£ØºÙ„Ù‰ Ø´ÙŠØ¡ Ø¹Ù†Ø¯ÙŠØŒ ÙˆÙˆØ¬ÙˆØ¯Ùƒ ÙŠØ¬Ø¹Ù„ ÙƒÙ„ Ø´ÙŠØ¡ Ø£ÙØ¶Ù„ØŒ ÙˆØ£ØªÙ…Ù†Ù‰ Ø£Ù† ÙŠÙ…Ù„Ø£ ÙŠÙˆÙ…Ùƒ Ø­Ø¨ ÙˆÙØ±Ø­ ÙˆØ§Ø¨ØªØ³Ø§Ù…Ø§Øª Ø¯Ø§Ø¦Ù…Ù‹Ø§ ğŸ’–âœ¨<br>
      Ù…Ù‡Ù…Ø§ Ø­ØµÙ„ØŒ Ø³Ø£Ø¨Ù‚Ù‰ Ù‡Ù†Ø§ Ù„Ø£Ø°ÙƒØ±Ùƒ ÙƒÙ… Ø£Ù†Øª Ù…Ù…ÙŠØ² ÙˆØ±Ø§Ù‚ÙŠ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙŠ ğŸ˜
    </h1>
    <img src="yes.jpg" alt="Ø¬ÙˆØ§Ø¨">
    <br>
    <button id="playFallback">ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¹Ù…Ù„</button>
  </div>
</div>
<audio id="sound" src="calm-melody.mp3" preload="auto"></audio>

<script>
const noBtn = document.getElementById('no');
const yesBtn = document.getElementById('yes');
const sound = document.getElementById('sound');
const resultDiv = document.getElementById('result');
const playFallback = document.getElementById('playFallback');

// Ù†ØªØ±Ùƒ Ø§Ù„Ø²Ø± "Ù„Ø§" Ø¨Ø¬Ø§Ù†Ø¨ Ù†Ø¹Ù… Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
function placeNoInitial() {
  const yesRect = yesBtn.getBoundingClientRect();
  noBtn.style.position = 'relative';
  noBtn.style.left = '0px';
  noBtn.style.top = '0px';
}
placeNoInitial();

// Ø­Ø±ÙƒØ© Ø²Ø± "Ù„Ø§" Ø¨Ø¹Ø¯ Ø§Ù„ØªÙØ§Ø¹Ù„
function moveButtonOnce(){
    const margin = 12;
    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;
    const btnWidth = noBtn.offsetWidth;
    const btnHeight = noBtn.offsetHeight;
    const maxX = viewportWidth - btnWidth - margin;
    const maxY = viewportHeight - btnHeight - margin;
    const x = Math.random() * maxX;
    const y = Math.random() * maxY;
    noBtn.style.position = 'fixed';
    noBtn.style.left = x + 'px';
    noBtn.style.top = y + 'px';
    noBtn.style.transform = "scale(1.04)";
    setTimeout(()=> noBtn.style.transform = "scale(1)",120);
}

// Ø¨Ø¯Ø¡ Ø§Ù„Ù‡Ø±ÙˆØ¨ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± Ø£Ùˆ Ø§Ù„Ø¶ØºØ·
noBtn.addEventListener('mouseover', moveButtonOnce);
noBtn.addEventListener('touchstart', function(e){ e.preventDefault(); moveButtonOnce(); }, {passive:false});
noBtn.addEventListener('click', moveButtonOnce);

// Ø²Ø± Ù†Ø¹Ù…
yesBtn.addEventListener('click', async function(){
  document.getElementById('question').style.display='none';
  document.getElementById('mainImage').style.display='none';
  document.querySelector('.actions').style.display='none';
  resultDiv.style.display='block';
  try{
    sound.currentTime = 0;
    await sound.play();
    playFallback.style.display='none';
  }catch(err){
    playFallback.style.display='inline-block';
    playFallback.onclick = function(){ sound.play().catch(()=>{}); playFallback.style.display='none'; };
  }
});
playFallback.addEventListener('click', function(){ sound.play().catch(()=>{}); playFallback.style.display='none'; });

window.addEventListener('resize', function(){
  const rect = noBtn.getBoundingClientRect();
  if(rect.right > window.innerWidth-8) noBtn.style.left = (window.innerWidth-noBtn.offsetWidth-12)+'px';
  if(rect.bottom > window.innerHeight-8) noBtn.style.top = (window.innerHeight-noBtn.offsetHeight-12)+'px';
  if(rect.left < 8) noBtn.style.left = '12px';
  if(rect.top < 8) noBtn.style.top = '12px';
  noBtn.style.transform="scale(1)";
});
</script>
</body>
</html>
